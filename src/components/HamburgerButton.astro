---
const width = 'w-5';
const genericHamburgerLine = `h-[1px] ${width} bg-secondary transition ease transform duration-300`;
---

<button
  id={Astro.props.id}
  aria-expanded='false'
  class:list={[
    'hamburgerButton group relative flex h-[20px] flex-col items-center justify-between md:hidden',
    width
  ]}
  aria-label='Abrir menú de navegación'
>
  <div
    class:list={['group-[.open]:translate-y-[10px] group-[.open]:rotate-45', genericHamburgerLine]}
  >
  </div>
  <div class:list={['group-[.open]:opacity-0', genericHamburgerLine]}></div>
  <div
    class:list={['group-[.open]:-translate-y-[9px] group-[.open]:-rotate-45', genericHamburgerLine]}
  >
  </div>
</button>

<script>
  import { $ } from '@/lib/dom-selector';

  document.addEventListener('astro:page-load', function () {
    const menuToggle = $('#hamburgerButton');

    menuToggle.addEventListener('click', function () {
      menuToggle.classList.toggle('open');
      const hamburgerButtonClick = new CustomEvent('hamburgerButtonClick');
      menuToggle.dispatchEvent(hamburgerButtonClick);
    });
  });
</script>
